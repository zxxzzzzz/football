import{d as B,r as d,j as N,c as t,b as c,w as _,u as i,o as r,a as l,F as m,O as f,N as p,M as h}from"./index-d0693814.js";import{o as g,q as D}from"./index-2b0deedf.js";import{m as w}from"./FormItemContext-f593cf69.js";const S={class:"flex flex-wrap mb-2"},$={class:"mb-2"},j={class:"flex flex-wrap"},k={class:"flex flex-wrap"},C={class:"flex flex-wrap mb-2"},q=B({__name:"index",setup(F){const u=["#78a5de","#4fb2a1","#205a13","#186174","#88b00b","#cf4b22","#9e57cd","#238910","#c18fde","#673b84","#760bbb","#557766","#557733","#337755"],z=d([]),v=d([]),x=d([]),y=d([]);async function I(){var s,L;const n=location.origin,o=new URL(location.href),e=await(await fetch(`${n}/data?username=${o.searchParams.get("username")||""}&password=${o.searchParams.get("password")||""}`)).json();if(e.code!==200){if(w.error((e==null?void 0:e.msg)||"更新出错",20),(e==null?void 0:e.code)===619)return w.info("已停止数据自动更新",10),!1;if((e==null?void 0:e.code)===401)return w.info("为了保证账号安全，已停止数据自动更新。刷新页面可开始继续自动更新",10),!1}return(L=(s=e.data)==null?void 0:s.matchData)!=null&&L.length&&(w.success("数据更新成功"),z.value=e.data.matchData,v.value=e.data.message1List,x.value=e.data.message2List,y.value=e.data.message3List),!0}async function b(n,o){try{if(!await n())return}catch{}setTimeout(async()=>{try{await b(n,o)}catch{}},o)}return N(async()=>{b(async()=>document.hidden?!0:await I(),5*1e3)}),(n,o)=>(r(),t("div",null,[c(i(g),{"item-layout":"horizontal","data-source":v.value},{renderItem:_(({item:a})=>[l("div",S,[(r(!0),t(m,null,f(a.split(" "),(e,s)=>(r(),t("div",{style:p({color:u[s],margin:"0 4px"}),class:"whitespace-nowrap"},h(e),5))),256))])]),_:1},8,["data-source"]),c(i(D)),c(i(g),{"item-layout":"horizontal","data-source":x.value},{renderItem:_(({item:a})=>[l("div",$,[l("div",j,[(r(!0),t(m,null,f(a[0].split(" "),(e,s)=>(r(),t("div",{style:p({color:u[s],margin:"0 4px"}),class:"whitespace-nowrap"},h(e),5))),256))]),l("div",k,[(r(!0),t(m,null,f(a[1].split(" "),(e,s)=>(r(),t("div",{style:p({color:u[s],margin:"0 4px"}),class:"whitespace-nowrap"},h(e),5))),256))])])]),_:1},8,["data-source"]),c(i(D)),c(i(g),{"item-layout":"horizontal","data-source":y.value},{renderItem:_(({item:a})=>[l("div",C,[(r(!0),t(m,null,f(a.split(" "),(e,s)=>(r(),t("div",{style:p({color:u[s],margin:"0 4px"}),class:"whitespace-nowrap"},h(e),5))),256))])]),_:1},8,["data-source"])]))}});export{q as default};
