import{r as O,h as ue,k as _e,j as y,p as be,d as K,m as Pe,b as l,l as pe,i as Le,I as Ne,c as B,w as q,u as T,o as R,a as W,F as Y,O as Z,e as Ae,f as Oe,N as ee,M as te}from"./index-0240b494.js";import{t as Se,u as U,_ as G,e as ce,h as s,b as P,l as Ee,s as se,P as A,a as ze,j as Be,N as Re,O as Fe,i as ke,r as ye,B as De,m as ae}from"./button-954102db.js";import{n as Te,o as he,r as ne,l as Ge,e as Ke,P as Ve,m as We,A as Ue}from"./index-8da3f3a8.js";import"./SearchOutlined-9ad96baa.js";const He=function(){var v=O(!1);return ue(function(){v.value=Te()}),v};var Ce=Symbol("rowContextKey"),qe=function(e){be(Ce,e)},Je=function(){return _e(Ce,{gutter:y(function(){}),wrap:y(function(){}),supportFlexGap:y(function(){})})};Se("top","middle","bottom","stretch");Se("start","end","center","space-around","space-between");var Qe=function(){return{align:String,justify:String,prefixCls:String,gutter:{type:[Number,Array,Object],default:0},wrap:{type:Boolean,default:void 0}}},Xe=K({compatConfig:{MODE:3},name:"ARow",props:Qe(),setup:function(e,b){var c=b.slots,h=U("row",e),o=h.prefixCls,S=h.direction,p,d=O({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0,xxxl:!0}),C=He();ue(function(){p=he.subscribe(function(t){var a=e.gutter||0;(!Array.isArray(a)&&G(a)==="object"||Array.isArray(a)&&(G(a[0])==="object"||G(a[1])==="object"))&&(d.value=t)})}),Pe(function(){he.unsubscribe(p)});var w=y(function(){var t=[0,0],a=e.gutter,n=a===void 0?0:a,u=Array.isArray(n)?n:[n,0];return u.forEach(function(j,E){if(G(j)==="object")for(var f=0;f<ne.length;f++){var I=ne[f];if(d.value[I]&&j[I]!==void 0){t[E]=j[I];break}}else t[E]=j||0}),t});qe({gutter:w,supportFlexGap:C,wrap:y(function(){return e.wrap})});var g=y(function(){var t;return ce(o.value,(t={},s(t,"".concat(o.value,"-no-wrap"),e.wrap===!1),s(t,"".concat(o.value,"-").concat(e.justify),e.justify),s(t,"".concat(o.value,"-").concat(e.align),e.align),s(t,"".concat(o.value,"-rtl"),S.value==="rtl"),t))}),r=y(function(){var t=w.value,a={},n=t[0]>0?"".concat(t[0]/-2,"px"):void 0,u=t[1]>0?"".concat(t[1]/-2,"px"):void 0;return n&&(a.marginLeft=n,a.marginRight=n),C.value?a.rowGap="".concat(t[1],"px"):u&&(a.marginTop=u,a.marginBottom=u),a});return function(){var t;return l("div",{class:g.value,style:r.value},[(t=c.default)===null||t===void 0?void 0:t.call(c)])}}});const Ye=Xe;function Ze(v){return typeof v=="number"?"".concat(v," ").concat(v," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(v)?"0 0 ".concat(v):v}var et=function(){return{span:[String,Number],order:[String,Number],offset:[String,Number],push:[String,Number],pull:[String,Number],xs:{type:[String,Number,Object],default:void 0},sm:{type:[String,Number,Object],default:void 0},md:{type:[String,Number,Object],default:void 0},lg:{type:[String,Number,Object],default:void 0},xl:{type:[String,Number,Object],default:void 0},xxl:{type:[String,Number,Object],default:void 0},xxxl:{type:[String,Number,Object],default:void 0},prefixCls:String,flex:[String,Number]}};const tt=K({compatConfig:{MODE:3},name:"ACol",props:et(),setup:function(e,b){var c=b.slots,h=Je(),o=h.gutter,S=h.supportFlexGap,p=h.wrap,d=U("col",e),C=d.prefixCls,w=d.direction,g=y(function(){var t,a=e.span,n=e.order,u=e.offset,j=e.push,E=e.pull,f=C.value,I={};return["xs","sm","md","lg","xl","xxl","xxxl"].forEach(function(M){var x,m={},z=e[M];typeof z=="number"?m.span=z:G(z)==="object"&&(m=z||{}),I=P(P({},I),{},(x={},s(x,"".concat(f,"-").concat(M,"-").concat(m.span),m.span!==void 0),s(x,"".concat(f,"-").concat(M,"-order-").concat(m.order),m.order||m.order===0),s(x,"".concat(f,"-").concat(M,"-offset-").concat(m.offset),m.offset||m.offset===0),s(x,"".concat(f,"-").concat(M,"-push-").concat(m.push),m.push||m.push===0),s(x,"".concat(f,"-").concat(M,"-pull-").concat(m.pull),m.pull||m.pull===0),s(x,"".concat(f,"-rtl"),w.value==="rtl"),x))}),ce(f,(t={},s(t,"".concat(f,"-").concat(a),a!==void 0),s(t,"".concat(f,"-order-").concat(n),n),s(t,"".concat(f,"-offset-").concat(u),u),s(t,"".concat(f,"-push-").concat(j),j),s(t,"".concat(f,"-pull-").concat(E),E),t),I)}),r=y(function(){var t=e.flex,a=o.value,n={};if(a&&a[0]>0){var u="".concat(a[0]/2,"px");n.paddingLeft=u,n.paddingRight=u}if(a&&a[1]>0&&!S.value){var j="".concat(a[1]/2,"px");n.paddingTop=j,n.paddingBottom=j}return t&&(n.flex=Ze(t),p.value===!1&&!n.minWidth&&(n.minWidth=0)),n});return function(){var t;return l("div",{class:g.value,style:r.value},[(t=c.default)===null||t===void 0?void 0:t.call(c)])}}});var at=function(){return{prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}},nt=K({compatConfig:{MODE:3},name:"ADivider",props:at(),setup:function(e,b){var c=b.slots,h=U("divider",e),o=h.prefixCls,S=h.direction,p=y(function(){return e.orientation==="left"&&e.orientationMargin!=null}),d=y(function(){return e.orientation==="right"&&e.orientationMargin!=null}),C=y(function(){var r,t=e.type,a=e.dashed,n=e.plain,u=o.value;return r={},s(r,u,!0),s(r,"".concat(u,"-").concat(t),!0),s(r,"".concat(u,"-dashed"),!!a),s(r,"".concat(u,"-plain"),!!n),s(r,"".concat(u,"-rtl"),S.value==="rtl"),s(r,"".concat(u,"-no-default-orientation-margin-left"),p.value),s(r,"".concat(u,"-no-default-orientation-margin-right"),d.value),r}),w=y(function(){var r=typeof e.orientationMargin=="number"?"".concat(e.orientationMargin,"px"):e.orientationMargin;return P(P({},p.value&&{marginLeft:r}),d.value&&{marginRight:r})}),g=y(function(){return e.orientation.length>0?"-"+e.orientation:e.orientation});return function(){var r,t=se((r=c.default)===null||r===void 0?void 0:r.call(c));return l("div",{class:[C.value,t.length?"".concat(o.value,"-with-text ").concat(o.value,"-with-text").concat(g.value):""],role:"separator"},[t.length?l("span",{class:"".concat(o.value,"-inner-text"),style:w.value},[t]):null])}}});const xe=Ee(nt);var rt=function(){return{avatar:A.any,description:A.any,prefixCls:String,title:A.any}};const it=K({compatConfig:{MODE:3},name:"AListItemMeta",props:rt(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,b){var c=b.slots,h=U("list",e),o=h.prefixCls;return function(){var S,p,d,C,w,g,r="".concat(o.value,"-item-meta"),t=(S=e.title)!==null&&S!==void 0?S:(p=c.title)===null||p===void 0?void 0:p.call(c),a=(d=e.description)!==null&&d!==void 0?d:(C=c.description)===null||C===void 0?void 0:C.call(c),n=(w=e.avatar)!==null&&w!==void 0?w:(g=c.avatar)===null||g===void 0?void 0:g.call(c),u=l("div",{class:"".concat(o.value,"-item-meta-content")},[t&&l("h4",{class:"".concat(o.value,"-item-meta-title")},[t]),a&&l("div",{class:"".concat(o.value,"-item-meta-description")},[a])]);return l("div",{class:r},[n&&l("div",{class:"".concat(o.value,"-item-meta-avatar")},[n]),(t||a)&&u])}}});var we=Symbol("ListContextKey"),ot=["class"],lt=function(){return{prefixCls:String,extra:A.any,actions:A.array,grid:Object,colStyle:{type:Object,default:void 0}}};const ut=K({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:it,props:lt(),slots:["actions","extra"],setup:function(e,b){var c=b.slots,h=b.attrs,o=_e(we,{grid:O(),itemLayout:O()}),S=o.itemLayout,p=o.grid,d=U("list",e),C=d.prefixCls,w=function(){var t,a=((t=c.default)===null||t===void 0?void 0:t.call(c))||[],n;return a.forEach(function(u){Re(u)&&!Fe(u)&&(n=!0)}),n&&a.length>1},g=function(){var t,a,n=(t=e.extra)!==null&&t!==void 0?t:(a=c.extra)===null||a===void 0?void 0:a.call(c);return S.value==="vertical"?!!n:!w()};return function(){var r,t,a,n,u,j=h.class,E=ze(h,ot),f=C.value,I=(r=e.extra)!==null&&r!==void 0?r:(t=c.extra)===null||t===void 0?void 0:t.call(c),M=(a=c.default)===null||a===void 0?void 0:a.call(c),x=(n=e.actions)!==null&&n!==void 0?n:se((u=c.actions)===null||u===void 0?void 0:u.call(c));x=x&&!Array.isArray(x)?[x]:x;var m=x&&x.length>0&&l("ul",{class:"".concat(f,"-item-action"),key:"actions"},[x.map(function(k,Q){return l("li",{key:"".concat(f,"-item-action-").concat(Q)},[k,Q!==x.length-1&&l("em",{class:"".concat(f,"-item-action-split")},null)])})]),z=p.value?"div":"li",J=l(z,P(P({},E),{},{class:ce("".concat(f,"-item"),s({},"".concat(f,"-item-no-flex"),!g()),j)}),{default:function(){return[S.value==="vertical"&&I?[l("div",{class:"".concat(f,"-item-main"),key:"content"},[M,m]),l("div",{class:"".concat(f,"-item-extra"),key:"extra"},[I])]:[M,m,Be(I,{key:"extra"})]]}});return p.value?l(tt,{flex:1,style:e.colStyle},{default:function(){return[J]}}):J}}});var ct=function(){return{bordered:{type:Boolean,default:void 0},dataSource:A.array,extra:A.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:A.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:A.any,footer:A.any,locale:{type:Object}}},F=K({compatConfig:{MODE:3},name:"AList",Item:ut,props:ke(ct(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,b){var c,h,o=b.slots;be(we,{grid:pe(e,"grid"),itemLayout:pe(e,"itemLayout")});var S={current:1,total:0},p=U("list",e),d=p.prefixCls,C=p.direction,w=p.renderEmpty,g=y(function(){return e.pagination&&G(e.pagination)==="object"?e.pagination:{}}),r=O((c=g.value.defaultCurrent)!==null&&c!==void 0?c:1),t=O((h=g.value.defaultPageSize)!==null&&h!==void 0?h:10);Le(g,function(){"current"in g.value&&(r.value=g.value.current),"pageSize"in g.value&&(t.value=g.value.pageSize)});var a=[],n=function(_){return function($,L){r.value=$,t.value=L,g.value[_]&&g.value[_]($,L)}},u=n("onChange"),j=n("onShowSizeChange"),E=function(_){var $;return l("div",{class:"".concat(d.value,"-empty-text")},[(($=e.locale)===null||$===void 0?void 0:$.emptyText)||_("List")])},f=y(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),I=y(function(){return f.value&&f.value.spinning}),M=y(function(){var i="";switch(e.size){case"large":i="lg";break;case"small":i="sm";break}return i}),x=y(function(){var i;return i={},s(i,"".concat(d.value),!0),s(i,"".concat(d.value,"-vertical"),e.itemLayout==="vertical"),s(i,"".concat(d.value,"-").concat(M.value),M.value),s(i,"".concat(d.value,"-split"),e.split),s(i,"".concat(d.value,"-bordered"),e.bordered),s(i,"".concat(d.value,"-loading"),I.value),s(i,"".concat(d.value,"-grid"),!!e.grid),s(i,"".concat(d.value,"-rtl"),C.value==="rtl"),i}),m=y(function(){var i=P(P({},S),{},{total:e.dataSource.length,current:r.value,pageSize:t.value},e.pagination||{}),_=Math.ceil(i.total/i.pageSize);return i.current>_&&(i.current=_),i}),z=y(function(){var i=ye(e.dataSource);return e.pagination&&e.dataSource.length>(m.value.current-1)*m.value.pageSize&&(i=ye(e.dataSource).splice((m.value.current-1)*m.value.pageSize,m.value.pageSize)),i}),J=Ge(),k=Ke(function(){for(var i=0;i<ne.length;i+=1){var _=ne[i];if(J.value[_])return _}}),Q=y(function(){if(e.grid){var i=k.value&&e.grid[k.value]?e.grid[k.value]:e.grid.column;if(i)return{width:"".concat(100/i,"%"),maxWidth:"".concat(100/i,"%")}}}),Ie=function(_,$){var L,V=(L=e.renderItem)!==null&&L!==void 0?L:o.renderItem;if(!V)return null;var N,D=G(e.rowKey);return D==="function"?N=e.rowKey(_):D==="string"||D==="number"?N=_[e.rowKey]:N=_.key,N||(N="list-item-".concat($)),a[$]=N,V({item:_,index:$})};return function(){var i,_,$,L,V,N,D,de=(i=e.loadMore)!==null&&i!==void 0?i:(_=o.loadMore)===null||_===void 0?void 0:_.call(o),re=($=e.footer)!==null&&$!==void 0?$:(L=o.footer)===null||L===void 0?void 0:L.call(o),ve=(V=e.header)!==null&&V!==void 0?V:(N=o.header)===null||N===void 0?void 0:N.call(o),fe=se((D=o.default)===null||D===void 0?void 0:D.call(o)),je=!!(de||e.pagination||re),$e=P(P({},x.value),{},s({},"".concat(d.value,"-something-after-last-item"),je)),ge=e.pagination?l("div",{class:"".concat(d.value,"-pagination")},[l(Ve,P(P({},m.value),{},{onChange:u,onShowSizeChange:j}),null)]):null,ie=I.value&&l("div",{style:{minHeight:"53px"}},null);if(z.value.length>0){a.length=0;var me=z.value.map(function(H,oe){return Ie(H,oe)}),Me=me.map(function(H,oe){return l("div",{key:a[oe],style:Q.value},[H])});ie=e.grid?l(Ye,{gutter:e.grid.gutter},{default:function(){return[Me]}}):l("ul",{class:"".concat(d.value,"-items")},[me])}else!fe.length&&!I.value&&(ie=E(w.value));var X=m.value.position||"bottom";return l("div",{class:$e},[(X==="top"||X==="both")&&ge,ve&&l("div",{class:"".concat(d.value,"-header")},[ve]),l(We,f.value,{default:function(){return[ie,fe]}}),re&&l("div",{class:"".concat(d.value,"-footer")},[re]),de||(X==="bottom"||X==="both")&&ge])}}});F.install=function(v){return v.component(F.name,F),v.component(F.Item.name,F.Item),v.component(F.Item.Meta.name,F.Item.Meta),v};const le=F,st={class:"flex flex-wrap mb-2"},dt={class:"mb-2"},vt={class:"flex flex-wrap"},ft={class:"flex flex-wrap"},gt={class:"flex flex-wrap mb-2"},mt={class:"flex flex-col"},_t=K({__name:"index",setup(v){const e=Oe(),b=["#78a5de","#4fb2a1","#205a13","#186174","#88b00b","#cf4b22","#9e57cd","#238910","#c18fde","#673b84","#760bbb","#557766","#557733","#337755"],c=O([]),h=O([]),o=O([]),S=O([]);let p;async function d(){var n,u;const g=location.origin,r=new URL(location.href),a=await(await fetch(`${g}/data?username=${r.searchParams.get("username")||""}&password=${r.searchParams.get("password")||""}`)).json();if(a.code!==200){if(ae.error((a==null?void 0:a.msg)||"更新出错",20),(a==null?void 0:a.code)===619)return ae.info("已停止数据自动更新",10),!1;if((a==null?void 0:a.code)===401)return ae.info("为了保证账号安全，已停止数据自动更新。刷新页面可开始继续自动更新",10),!1}return(u=(n=a.data)==null?void 0:n.matchData)!=null&&u.length&&(ae.success("数据更新成功"),c.value=a.data.matchData,h.value=a.data.message1List,o.value=a.data.message2List,S.value=a.data.message3List),!0}async function C(g,r){try{if(!await g())return}catch{}p=setTimeout(async()=>{try{await C(g,r)}catch{}},r)}const w=()=>{e.push({path:"/setting"})};return ue(async()=>{C(async()=>document.hidden?!0:await d(),5*1e3)}),Ne(()=>{p&&clearTimeout(p)}),(g,r)=>(R(),B("div",null,[l(T(le),{"item-layout":"horizontal","data-source":h.value},{renderItem:q(({item:t})=>[W("div",st,[(R(!0),B(Y,null,Z(t.split(" "),(a,n)=>(R(),B("div",{style:ee({color:b[n],margin:"0 4px"}),class:"whitespace-nowrap"},te(a),5))),256))])]),_:1},8,["data-source"]),l(T(xe)),l(T(le),{"item-layout":"horizontal","data-source":o.value},{renderItem:q(({item:t})=>[W("div",dt,[W("div",vt,[(R(!0),B(Y,null,Z(t[0].split(" "),(a,n)=>(R(),B("div",{style:ee({color:b[n],margin:"0 4px"}),class:"whitespace-nowrap"},te(a),5))),256))]),W("div",ft,[(R(!0),B(Y,null,Z(t[1].split(" "),(a,n)=>(R(),B("div",{style:ee({color:b[n],margin:"0 4px"}),class:"whitespace-nowrap"},te(a),5))),256))])])]),_:1},8,["data-source"]),l(T(xe)),l(T(le),{"item-layout":"horizontal","data-source":S.value},{renderItem:q(({item:t})=>[W("div",gt,[(R(!0),B(Y,null,Z(t.split(" "),(a,n)=>(R(),B("div",{style:ee({color:b[n],margin:"0 4px"}),class:"whitespace-nowrap"},te(a),5))),256))])]),_:1},8,["data-source"]),l(T(Ue),{offsetBottom:400,style:{position:"absolute",right:"0px"}},{default:q(()=>[W("div",mt,[l(T(De),{class:"my-2",onClick:w},{default:q(()=>[Ae(" 设置")]),_:1})])]),_:1})]))}});export{_t as default};
