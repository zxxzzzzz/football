import{d as x,r as b,h as y,c as C,a,b as o,u as n,w as d,o as N,e as m,f as j}from"./index-3ffacf1a.js";import{m as c,B as p}from"./button-23e424c6.js";import{I as r}from"./Input-c531b5d9.js";const A={class:"pt-12 px-4"},B={class:"flex mb-4"},U=a("div",{class:"w-[13rem] text-right mr-2"},"R",-1),k={class:"flex mb-4"},V=a("div",{class:"w-[13rem] text-right mr-2"},"A",-1),S={class:"flex mb-4"},$=a("div",{class:"w-[13rem] text-right mr-2"},"C",-1),O={class:"flex mb-4"},F=a("div",{class:"whitespace-nowrap w-[13rem] text-right mr-2"},"胜平负Rev",-1),I={class:"flex mb-4"},E=a("div",{class:"whitespace-nowrap w-[13rem] text-right mr-2"},"两场比赛比较的Rev",-1),J={class:"flex mb-4"},M=a("div",{class:"whitespace-nowrap w-[13rem] text-right mr-2"},"得分Rev",-1),T={class:"flex mb-4 justify-end"},H=x({__name:"index",setup(q){const f=j(),t=b({R:.12,A:1,C:.13,Rev:400,compareRev:430,scoreRev:200});async function u(){const l=location.origin,e=await(await fetch(`${l}/setting`)).json();e.code===200&&(t.value={...e.data}),e.code!==200&&c.error(e.msg)}async function _(l){const s=location.origin,i=await(await fetch(`${s}/setting`,{method:"post",body:JSON.stringify(l),headers:{"content-type":"application/json"}})).json();i.code,i.code!==200&&c.error(i.msg)}const R=()=>{f.push({path:"/home"})},h=async()=>{const l={R:"R",A:"A",C:"C",Rev:"胜平负Rev",compareRev:"两场比赛比较的Rev",scoreRev:"得分Rev"};if(Object.keys(t.value).every(e=>{const i=t.value[e],v=parseFloat(`${i}`);return Number.isNaN(v)?(c.error(l[e]+"填写的非法值，无法保存",10),!1):!0})){const e=Object.keys(t.value).reduce((i,v)=>{const g=t.value[v],w=parseFloat(`${g}`);return{...i,[v]:w}},{});await _(e),c.success("设置更新成功"),await u()}};return y(async()=>{await u()}),(l,s)=>(N(),C("div",A,[a("div",B,[U,o(n(r),{value:t.value.R,"onUpdate:value":s[0]||(s[0]=e=>t.value.R=e)},null,8,["value"])]),a("div",k,[V,o(n(r),{value:t.value.A,"onUpdate:value":s[1]||(s[1]=e=>t.value.A=e)},null,8,["value"])]),a("div",S,[$,o(n(r),{value:t.value.C,"onUpdate:value":s[2]||(s[2]=e=>t.value.C=e)},null,8,["value"])]),a("div",O,[F,o(n(r),{value:t.value.Rev,"onUpdate:value":s[3]||(s[3]=e=>t.value.Rev=e)},null,8,["value"])]),a("div",I,[E,o(n(r),{value:t.value.compareRev,"onUpdate:value":s[4]||(s[4]=e=>t.value.compareRev=e)},null,8,["value"])]),a("div",J,[M,o(n(r),{value:t.value.scoreRev,"onUpdate:value":s[5]||(s[5]=e=>t.value.scoreRev=e)},null,8,["value"])]),a("div",T,[o(n(p),{onClick:R,class:"mr-4"},{default:d(()=>[m(" 返回数据页 ")]),_:1}),o(n(p),{onClick:h},{default:d(()=>[m(" 保存 ")]),_:1})])]))}});export{H as default};
